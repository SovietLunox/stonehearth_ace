<script type="text/x-handlebars" data-template-name="mercantile">
<div id="mercantile" class="gui">
   <div class="window">
      <div class="title">{{i18n stonehearth_ace:ui.game.mercantile.title}}<div class="closeButton"></div></div>

      <div id="activeTab" class="tabPage">
         <div id="activeContainer">
            <div class="info">
               <!--show # merchants spawned (range) and # of tier stalls, indicator for restricted by # stalls-->
               <div id="numMerchants">{{{view.numMerchants}}}</div>
            </div>
            <div id="merchants" class="downSection">
               {{#each merchant in view.merchants}}
               <div {{bind-attr merchant-id=merchant.id class=":merchant merchant.has_stall:hasStall:"}}>
                  <div {{bind-attr class=":name merchant.tier_class"}}>{{merchant.display_name}}</div>
                  <div class="portrait merchantPortrait"></div>
                  <img class="shop"/>
                  {{#if merchant.has_stall}}
                  <div class="portrait stallPortrait"></div>
                  {{/if}}
               </div>
               {{/each}}
            </div>
            {{#if view.hasAvailableStalls}}
            <div id="availableStalls" class="downSection">
               {{#each stall in view.availableStalls}}
               <div class="availableStall" {{bind-attr stall-type-id=stall.id}}>
                  <img {{bind-attr src="stall.icon" class=":stallIcon stall.tier_class"}}/>
                  <div {{bind-attr class=":num stall.num_class"}}>{{stall.total}}</div>
               </div>
               {{/each}}
            </div>
            {{/if}}
         </div>
      </div>

      <div id="preferencesTab" class="tabPage">
         <div id="preferencesContainer">
            <div class="info">
               <!--show # of preference settings are and can be made at once -->
            </div>
            <div id="allPreferences">
               <div id="categoryPreferences" class="downSection">
                  <div class="sectionTitle">{{i18n stonehearth_ace:ui.game.mercantile.preferences.category_title}}</div>
               </div>
               <div id="exclusivePreferences" class="downSection">
                  <div class="sectionTitle">{{i18n stonehearth_ace:ui.game.mercantile.preferences.exclusive_title}}</div>
               </div>
            </div>
         </div>
      </div>
   </div>

   <div id="tabs">
      <div class="tab active" tabPage="activeTab">{{i18n stonehearth_ace:ui.game.mercantile.active.title}}</div>
      <div class="tab" tabPage="preferencesTab">{{i18n stonehearth_ace:ui.game.mercantile.preferences.title}}</div>
   </div>

</div>
</script>
